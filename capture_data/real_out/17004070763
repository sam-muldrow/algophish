<head>
    <title>Search</title>
    <style xmlns="http://www.w3.org/1999/html">
        html{height:100%;min-width:700px;position:relative}body{font-family:Arial;padding:0;margin:0;background-color:#ffffff}body a img{border:none;outline:none !important}body .header{background-color:#3f5362;height:28px;border-bottom:1px solid #222e36;border-top:1px solid #222e36;position:relative;white-space:nowrap;z-index:999;width:100%}body .header.rtl .side1{float:right}body .header.rtl .side1 .categories_wrapper .header-item{float:right}body .header.rtl .side1 .categories_wrapper li #liMenu_wrapper #liMenu_inner_wrapper #liMore .dropdown-item-wrapper .dropdown-item{padding-left:26px;padding-right:8px}body .header.rtl .side1 .categories_wrapper li .header-item-btn.open{padding-left:6px;padding-right:13px}body .header.rtl .side2{float:left}body .header.rtl .side2 #bing_element_wrapper{left:15px}body .header .categories_wrapper{display:inline;list-style:none;margin:0;-webkit-margin-after:0em;-webkit-margin-start:0em;-webkit-margin-end:0em;-webkit-margin-before:0em;-webkit-padding-start:0em;font-size:10pt}body .header .categories_wrapper li{display:inline-block;cursor:pointer;float:left;position:relative;z-index:50}body .header .categories_wrapper li.dropdown-wrapper{position:relative;outline:none;margin-left:4px;z-index:999}body .header .categories_wrapper li #liMenu_wrapper #liMenu_inner_wrapper{position:absolute;left:4px;top:28px}body .header .categories_wrapper li #liMenu_wrapper #liMenu_inner_wrapper #liMore{background:none repeat scroll 0 0 #fff;margin:5px 0 0 5px;white-space:nowrap;z-index:2;border:none;padding-left:0px;border-color:#BEBEBE;float:left;position:relative}body .header .categories_wrapper li #liMenu_wrapper #liMenu_inner_wrapper #liMore .dropdown-item-wrapper{list-style:inside}body .header .categories_wrapper li #liMenu_wrapper #liMenu_inner_wrapper #liMore .dropdown-item-wrapper .dropdown-item{color:#3366cf;background:#fff;margin:0;line-height:28px;padding-left:8px;padding-right:26px;text-decoration:none}body .header .categories_wrapper li #liMenu_wrapper #liMenu_inner_wrapper #liMore .dropdown-item-wrapper .dropdown-item:hover{text-decoration:underline}body .header .categories_wrapper li #liMenu_wrapper #liMenu_inner_wrapper #menu_shadow{border:1px solid #bebebe;height:100%;left:0;padding:1px;position:absolute;top:1px;top:-3px \9 ;width:100%;background-color:#fff;padding:0 \9 ;border:none \9 ;-moz-box-shadow:0 1px 5px #ccc;-webkit-box-shadow:0 1px 5px #ccc;box-shadow:0 1px 5px #ccc;filter:alpha(opacity=10);filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius=3, MakeShadow=true, ShadowOpacity=.04)}body .header .categories_wrapper li .header-item-btn{color:#fff;line-height:28px;padding:0 7px;display:block;text-decoration:none}body .header .categories_wrapper li .header-item-btn #menu_icon{font-size:6px;line-height:21px}body .header .categories_wrapper li .header-item-btn.hover{background:#6c7983}body .header .categories_wrapper li .header-item-btn:hover{background:#6c7983}body .header .categories_wrapper li .header-item-btn.selected{color:#fff;display:block;line-height:28px;padding:0 7px;background:#0886d7;font-weight:bold}body .header .categories_wrapper li .header-item-btn.dropdown{margin-left:4px}body .header .categories_wrapper li .header-item-btn.open{color:#3366cf;background:#fff;margin:0;white-space:nowrap;clear:both;margin-top:-1px;border:1px solid #bebebe;margin-left:4px;padding-left:13px;padding-right:6px;z-index:56;position:relative;height:30px;border-bottom:0}body .header .categories_wrapper li .header-item-btn.open #menu_icon{color:#c6c6c6}body .header .categories_wrapper li .header-item-btn.open .a{margin-left:0}body .header .categories_wrapper.selected{color:#fff;display:block;line-height:28px;padding:0 7px;background:#0886d7;font-weight:bold}body .header #bing_element_wrapper{position:absolute;right:15px;top:0;color:#ccc;font-size:13px;font-family:Arial}body .header #bing_element_wrapper img{display:inline-block;vertical-align:middle;_display:inline;_zoom:1;color:#ccc;line-height:27px;padding-bottom:1px}body .header #bing_element_wrapper a{position:relative;z-index:9999}body #q_top::-ms-clear{display:none}body .footer{position:absolute;bottom:5px;left:0;width:100%;border-top:1px solid #e9e9e9;background:#fff;padding-top:4px;line-height:15px}body .footer .footer-items-wrapper{display:inline-block;list-style:none;margin:0;-webkit-margin-after:0em;-webkit-margin-start:0em;-webkit-margin-end:0em;-webkit-margin-before:0em;-webkit-padding-start:0em}body .footer .footer-items-wrapper .footer-item{margin-right:1px;font-size:11px;display:inline-block;float:left;color:#898994}body .footer .footer-items-wrapper .footer-item a{text-decoration:none;color:inherit}body .footer .footer-items-wrapper .footer-item a:link{padding:0px 6px;color:#898994}body .footer .footer-items-wrapper .footer-item a:visited{color:#898994}body .footer .footer-items-wrapper .footer-item a:hover{text-decoration:underline}body .footer .footer-items-wrapper .footer-item .content{display:inline-block}body .footer .footer-items-wrapper .separator{font-size:11px;color:#898994;padding:0 5px}body .footer .footer-items-wrapper.side1{float:right;margin-right:11px}body .footer .footer-items-wrapper.side1.rtl{float:left;margin-left:14px}body .footer .footer-items-wrapper.side1.rtl.footer-items-wrapper .footer-item{float:right}body .footer .footer-items-wrapper.side2{float:left;padding-left:5px}body .footer .footer-items-wrapper.side2.rtl{float:right}body .footer .footer-items-wrapper.side2.rtl .footer-item{float:right}body .search-bar .logo-wrapper{margin:115px auto 0;text-align:center;padding-bottom:4px}body .search-bar .logo-wrapper img{background:none;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='flower.png', sizingMethod='crop')}body .search-bar .search-box{padding:35px 0 0;text-align:center;margin:0 auto;position:relative}body .search-bar .search-box form{width:700px;margin:0 auto}body .search-bar .search-box form .input-wrapper{position:relative;height:42px;zoom:1;display:block;border:1px solid #a1a1a1}body .search-bar .search-box form .input-wrapper.input-focus{border:1px solid #0886d7 !important}body .search-bar .search-box form .input-wrapper input{width:97%;font-size:18px;top:10px;position:relative;margin:0 auto;border:none}body .search-bar .search-box form .input-wrapper input:focus{border:none;outline-color:white}body .search-bar .search-box form .input-wrapper .placeholder{color:silver;cursor:text;font-size:16px;font-style:italic;text-indent:10px;text-align:left;position:absolute;width:255px;background:12px 12px no-repeat;height:34px;line-height:34px;margin-top:5px;_margin-left:0;_text-indent:7px;z-index:60}body .search-bar .search-box form .input-wrapper.hover{border:1px solid #5e6365}body .search-bar .search-box form .input-wrapper:hover{border:1px solid #5e6365}body .search-bar .search-box form .search-button{text-align:center;display:inline-block}body .search-bar .search-box form .search-button #main_button_wrapper{left:-8px;right:auto;margin:0px 0 0 10px;text-align:center;position:static}body .search-bar .search-box form .search-button #main_button_wrapper .button{display:inline;text-align:center;zoom:1;margin-right:0}body .search-bar .search-box form .search-button #main_button_wrapper .button .default-search-btn{float:left;padding:16px 30px 10px 38px;height:22px;font-size:15px;background-position:0 0;background-repeat:no-repeat;cursor:pointer;text-decoration:none;color:black}body .search-bar .search-box form .search-button #main_button_wrapper .button .default-search-btn:hover{background-position:0 -54px}body .search-bar .search-box form .search-button #main_button_wrapper .button .default-search-btn.hover{background-position:0 -54px;outline:none !important;border:none}body .search-bar .search-box form .search-button #main_button_wrapper .button .button-closer{float:left;width:9px;display:block;cursor:pointer;height:47px;background-position:right 0;background-repeat:no-repeat}body .search-bar .input-wrapper{height:42px;display:block}body .search-bar .input-wrapper input ::-webkit-input-placeholder{color:pink}body .search-bar .input-wrapper input ::-moz-placeholder{color:pink}body .search-bar .input-wrapper input :-ms-input-placeholder{color:pink}body .search-bar .input-wrapper input :-moz-placeholder{color:pink}body .popup-arrow-down{position:absolute;background:white;bottom:30px;width:364px;height:auto;border:1px solid #d4d4d4;color:#5a5a61;text-align:left;padding:10px;font-size:11px;direction:ltr;z-index:50;line-height:16px;right:14%}body .popup-arrow-down.rtl{right:69%}body .popup-arrow-down.rtl .popup-close-button{width:100%;float:right;right:-7px}body .popup-arrow-down .popup-close-button{height:8px;display:inline-block;font-size:11px;position:absolute;right:-5px;top:4px;width:17px;cursor:pointer;padding:0 0 5px 5px;text-decoration:none;font-weight:600;background-position:0 0;background-repeat:no-repeat}body .popup-arrow-down .popup-close-button:hover{background-position:0 -12px}body .popup-arrow-down .popup-close-button.hover{background-position:0 -12px}body .popup-arrow-down:before{right:52%;left:8%;top:100%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(194,225,245,0);border-top-color:#d3d3d3;border-width:10px;margin-left:170px}body .popup-arrow-down:after{left:8%;top:100%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(136,183,213,0);border-top-color:#fff;border-width:9px;margin-left:171px}.rtl #input_icon{left:auto;right:8px;text-align:right;zoom:1;width:110px;white-space:nowrap}.clear-history span{cursor:pointer}.turnOnHistory #enableHistoryBtn{display:inline}#enableHistoryBtn{display:none}.turnOnHistory #disableHistoryBtn{display:none}#clearAllHistoryBtn:hover,#enableHistoryBtn:hover,#disableHistoryBtn:hover{text-decoration:underline}#banner_wrapper{padding-top:20px;margin:0 auto 0;direction:ltr;text-align:center;display:block}#banner_wrapper #div_banner{display:block;margin-left:auto;margin-right:auto}#banner_wrapper #bannerLabel{font-family:Arial;font-size:10px;color:#888;text-align:center}.form-wrapper-expend{border-bottom:1px solid black;border-left:1px solid black;border-right:1px solid black}.suggest-wrapper{width:698px;text-align:left;background:#fff;margin-top:-1px;position:absolute;border-bottom:1px solid #e5e5e5;border-left:1px solid #e5e5e5;border-right:1px solid #e5e5e5;border-top:1px solid #4688f1;box-shadow:0 3px 7px rgba(1,1,1,0.15);clear:both;z-index:100;display:none}.suggest-wrapper .clear-history{padding:0;margin:0;bottom:5px;color:silver;font-size:8pt;position:absolute}.suggest-wrapper .clear-history-ltr{direction:ltr;left:10px}.suggest-wrapper .clear-history-rtl{right:6px;left:auto;direction:rtl}.underline-text{text-decoration:underline}.suggest-item-wrapper{font-family:arial, Regular;padding:0 9px;font-size:16px;cursor:pointer;line-height:24px}div[name='notificationwindow']{position:absolute;bottom:35px;width:364px;height:auto;border:1px solid #d4d4d4;background:#fff;color:#5a5a61;text-align:left;padding:10px;font-size:11px;direction:ltr;z-index:50;line-height:16px;margin-right:-150px}#notificationClose{cursor:pointer;color:#d6d6d6;position:relative;background:url(//storage2.stgbssint.com/Search/SearchApplication/Resources/Images/Search/closeSprite.png) no-repeat 0px 0px;width:13px;height:13px;float:right;text-align:left;direction:ltr}.rtl span .separator{float:right}.ltr span .separator{float:left}.rtl #main_lngPrefs_lng{float:left}.rtl #notificationText{float:left;text-align:right;direction:rtl}.rtl #notificationClose{position:absolute;float:left}#notificationTextHeader{font-size:12px;color:#6a6a6a;font-weight:700}#notificatinHref{color:#008ad4 !important;text-decoration:none}#notificatinHref:hover{text-decoration:underline}.suggest-item-wrapper .suggest-item{font-weight:bold}.suggest-item-wrapper{font-family:arial, Regular;padding:0 9px;font-size:16px;line-height:24px}.history-item-Wrapper:hover{background-color:#f5f5f5}.suggest-item-wrapper:hover .history-item-Wrapper .history-item-x-btn{display:inline-block}.suggest-item-wrapper .history-item{color:#8259ab;font-weight:bold}.suggest-item-wrapper .history-item-x-btn{float:right;display:none}.suggest-item-wrapper .history-item-x-btn:hover{cursor:pointer}.suggest-item-wrapper .history-item-x-btn-selected{float:right;cursor:pointer}#suggestListWrapper{margin:0px;padding:0px}#suggestListWrapper li{list-style-type:none}body .search-bar .search-box form .search-button #main_button_wrapper{margin:0px auto 0 auto;text-align:center}body .search-bar .search-box form .search-button #main_button_wrapper #button_wrapper{height:44px;display:inline-block;margin:4px auto 7px auto}body .search-bar .search-box form .search-button{width:100%}.hover{background-color:#f5f5f5}#notificationTitle{font-size:15px}#notificationText ol{padding:0px 20px}#notificationText p{margin:0px}#redirect404PopUpInfo_title{margin-bottom:10px;font-weight:700}#lbl404Text{color:#818181;font-size:14px;margin-top:20px;display:block}.error_404_text_rtl{margin-right:25px}.error_404_text_ltr{margin-left:25px}

    </style>
    <script>
        (function () {
    if (typeof String.prototype.trim !== 'function') {
        String.prototype.trim = function () {
            return this.replace(/^\s+|\s+$/g, '');
        }
    }

    var JSON = JSON || {};

// implement JSON.stringify serialization
    JSON.stringify = JSON.stringify || function (obj) {

            var t = typeof (obj);
            if (t != "object" || obj === null) {

                // simple data type
                if (t == "string") obj = '"' + obj + '"';
                return String(obj);

            }
            else {

                // recurse array or object
                var n, v, json = [], arr = (obj && obj.constructor == Array);

                for (n in obj) {
                    v = obj[n];
                    t = typeof(v);

                    if (t == "string") v = '"' + v + '"';
                    else if (t == "object" && v !== null) v = JSON.stringify(v);

                    json.push((arr ? "" : '"' + n + '":') + String(v));
                }

                return (arr ? "[" : "{") + String(json) + (arr ? "]" : "}");
            }
        };

// implement JSON.parse de-serialization
    JSON.parse = JSON.parse || function (str) {
            if (str === "") str = '""';
            eval("var p=" + str + ";");
            return p;
        };

}());
var Utils = {
    Cookie: {
        set: function (name, value, days) {
            var expires = "";
            var domain = window.searchSettings.effective_domain;
            if (!days || isNaN(days))
                days = 365;
            if (days) {
                var date = new Date();
                date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                expires = "; expires=" + date.toUTCString();
            }
            if (domain)
                document.cookie = name + "=" + value + expires + "; domain=." + domain + "; path=/";
            else
                document.cookie = name + "=" + value + expires + "; path=/";
        },
        get: function (name) {
            var value = "; " + document.cookie;
            var parts = value.split("; " + name + "=");
            if (parts.length === 2) {
                return parts.pop().split(";").shift();
            }
            return "";
        },
        remove: function (name) {
            if (this.get(name)) {
                var domain = window.searchSettings.effective_domain;
                if (domain)
                    document.cookie = name + "=; expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=." + domain;
                else
                    document.cookie = name + "=; expires=Thu, 01 Jan 1970 00:00:01 GMT;";
            }
        }
    },
    Url: {
        getParam: function (param) {
            var query = document.location.search.slice(1),
                pairs = query.split('&'),
                pair,
                val = '';
            for (var i = 0; i < pairs.length; i++) {
                pair = pairs[i].split('=');
                if (pair[0].toLowerCase() === param.toLowerCase()) {
                    val = pair[1];
                    break;
                }
            }
            return val;
        },
        UpdateUrl: function (key, newval, addIfNotExist) {
            var param = new RegExp("([?&])" + key + "=.*?(&|$)", "i"),
                query = document.location.search,
                separator = query.indexOf('?') !== -1 ? "&" : "?";

            if (query.match(param)) {
                history.pushState(null, '', query.replace(param, '$1' + key + "=" + newval + '$2'));
            } else if (addIfNotExist) {
                history.pushState(null, '', query + separator + key + '=' + newval);
            }
        }
    },
    Event: {
        preventDefault: function (event) {
            if (event) {
                try {
                    event.stopImmediatePropagation();
                    event.preventDefault();
                    event.cancelBubble = true;
                    event.stopPropagation();
                } catch (ex) {
                    console.log(ex.stack);
                }
            }
        },
        attach: function (elem, event, callback) {
            if (elem.addEventListener) {
                elem.addEventListener(event, callback);
            } else {
                elem.attachEvent(("on" + event), callback);
            }
        }
    },
    String: {
        replaceAt: function (str, index, replacement) {
            return str.substr(0, index) + replacement + str.substr(index + replacement.length);
        },
        startsWith: function (str, word) {
            return str.substring(0, word.length) === word;
        }
    },
    Element: {
        getElsByClassName: function (node, className) {
            if (node.getElementsByClassName) return node.getElementsByClassName(className);
            if (node.querySelectorAll) return node.querySelectorAll('.' + className);

            //for older version of ie
            var elementsByClassName = [];
            var reg = new RegExp('(^| )' + className + '( |$)');
            var elements = node.getElementsByTagName("*");
            for (var i = 0, j = elements.length; i < j; i++)
                if (reg.test(elements[i].className)) elementsByClassName.push(elements[i]);
            return elementsByClassName;
        }
    }
};

var AutoSuggest = (function () {
    var self = {};
    var options;
    var searchBox;
    var searchBtn;
    var suggestWrapper;
    var historyManager;
    var keyManager;
    var enableSubmitForm;
    var suggestWithHistory;
    var historySwitchKey;
    var historyKey = 'hk';
    var selectedNode;
    var suggestProviderUrl;
    var suggestProviderId;
    var suggestUrl;
    var suggestList;
    var maxSuggestItems;
    var suggestTableWrapper;
    var searchProviderDefault = 'http://api.autocompleteplus.com/?q=[QUERY]&l=en=us&callback=AutoSuggest.suggestCallback';
    try {
        self.init = function (opt) {
            options = opt;
            maxSuggestItems = options.suggest.max_suggest_items || 10;
            suggestProviderUrl = options.suggest_provider_url || searchProviderDefault;
            suggestProviderId = options.suggest_provider;
            suggestUrl = updateUrlParams(suggestProviderUrl);
            historySwitchKey = options.history.history_switch_key;
            searchBox = document.getElementById(options.search_box_id);
            searchBtn = document.getElementById(options.search_btn_id);
            suggestWrapper = document.getElementById(options.suggest_wrapper_id);
            suggestList = document.getElementById('suggestListWrapper');
            suggestTableWrapper = document.getElementById(options.suggest.suggest_table_wrapper);
            suggestWrapper.style.display = 'none';
            historyManager = new HistoryManager(options.history, options.enable_history);
            keyManager = new KeyManager();
            enableSubmitForm = options.submit_form !== false;
            suggestWithHistory = options.with_history === true;
            startListening();
            initHistoryToggle();
            selectedNode = -1;
        };
    } catch (ex) {
        console.log(ex.stack);
    }

    function HistoryManager(params, enableHistory) {
        if (!params)
            return;
        var isEnable = enableHistory;
        var historyItems = [];
        var numOfHistoryItems = 0;
        var maxHistoryItems = params.max_history_items || 10;
        var maxHistoryItemsForSuggest = params.max_history_items_for_suggest || 3;
        var clearHistoryButtonWrapper;
        init();

        function init() {
            initSavedHistoryState(isEnable);
            initHistoryItems();
        }

        function initSavedHistoryState(enable) {
            if (Utils.Cookie.get(historySwitchKey) === '') {
                Utils.Cookie.set(historySwitchKey, enable !== 'false');
            } else {
                Utils.Cookie.set(historySwitchKey, Utils.Cookie.get(historySwitchKey) != 'false');
            }
        }

        function removeItem(value) {
            var index = historyItems.indexOf(value);
            historyItems = getHistoryItemsFromCookie();
            if (historyItems && historyItems.length > 0 && index > -1) {
                historyItems.splice(index, 1);
                updateHistoryCookie();
            }
        }

        function closeHistory() {
            if (isEnable)
                hideHistory();
        }

        function openHistory(withSuggest, term) {
            if (isEnable) {
                initHistoryItems();
                buildHistoryItems(withSuggest, term);
                if (hasItems()) {
                    showClearHistoryButtons();
                    showHistory();
                } else {
                    hideClearHistoryButtons();
                }
                return suggestWrapper.children.length;
            }
            return 0;
        }

        function showHistory() {
            if (suggestWrapper) {
                suggestWrapper.style.display = 'block';
            }
            if (suggestWrapper) {
                suggestWrapper.style.display = 'block';
            }
        }

        function hideHistory() {
            if (suggestWrapper) {
                suggestWrapper.style.display = 'none';
            }
            if (suggestWrapper) {
                suggestWrapper.style.display = 'none';
            }
        }

        function hasItems() {
            return (isEnable && suggestWrapper && suggestWrapper.innerHTML !== '');
        }

        function getSavedHistoryState() {
            return Utils.Cookie.get(historySwitchKey) === 'true';
        }

        function setSavedHistoryState(val) {
            Utils.Cookie.set(historySwitchKey, val);
            isEnable = val;
        }

        function initHistoryItems() {
            var savedHistoryState = getSavedHistoryState();
            if (!savedHistoryState) {
                isEnable = false;
                return;
            }
            historyItems = getHistoryItemsFromCookie();
            if (historyItems && (historyItems.length > maxHistoryItems)) {
                historyItems = historyItems.splice(0, maxHistoryItems);
            }
            numOfHistoryItems = historyItems.length;
        }

        function showClearHistoryButtons() {
            if (clearHistoryButtonWrapper) {
                clearHistoryButtonWrapper.style.display = 'block';
            }
        }

        function hideClearHistoryButtons() {
            if (clearHistoryButtonWrapper) {
                clearHistoryButtonWrapper.style.display = 'none';
            }
        }

        function getHistoryItemsFromCookie() {
            try {
                var history = Utils.Cookie.get(historyKey);
                if (history)
                    return JSON.parse(history).items;

            } catch (ex) {

            }
            return [];
        }

        function onToggleSavedHistory() {
            var historyState = getSavedHistoryState();
            var historyEl = document.getElementById('ccl');
            setSavedHistoryState(!historyState);

            if (isEnable) {
                historyEl.className = historyEl.className.replace(/(?:^|\s)turnOnHistory(?!\S)/g, '');
                appendHistoryItems(searchBox.value);
            } else {
                if (historyEl.className.indexOf('turnOnHistory') === -1) {
                    historyEl.className += ' turnOnHistory ';
                }
                removeHistoryFromSuggest();
            }
            indexSuggestList();
        }

        function removeHistoryFromSuggest() {
            suggestWrapper.innerHTML = "";
        }

        function updateHistoryCookie() {
            var his = {
                items: historyItems
            };
            var items = JSON.stringify(his);
            if (items)
                Utils.Cookie.set(historyKey, items, 365);
        }

        function saveHistoryItem(item) {

            if (!isEnable) {
                return;
            }
            if (item && typeof item === 'string' && isValid()) {
                if (isItemExistInHistory(item)) {
                    return;
                }
                historyItems = getHistoryItemsFromCookie();
                historyItems.push(item.trim());
                numOfHistoryItems++;
                updateHistoryItemsInCookie();
            }
        }

        function updateHistoryItemsInCookie() {
            var his = {
                items: historyItems
            };
            var items = JSON.stringify(his);
            if (items)
                Utils.Cookie.set(historyKey, items, 365);
        }

        function isItemExistInHistory(item) {
            var items = getHistoryItemsFromCookie();
            for (var i = 0; i < items.length; i++) {
                if (items[i].toLowerCase() === item.toLowerCase().trim())
                    return true;
            }

            return false;
        }

        function saveItemToHistory(item) {
            saveHistoryItem(item)
        }

        function clearHistoryItem(event) {
            var value = this.parentElement.getAttribute('x-data-term');
            var index = this.parentElement.getAttribute('i');
            removeItem(value);
            suggestList.removeChild(suggestList.childNodes[index]);
            indexSuggestList();
            if (event)
                Utils.Event.preventDefault(event);
        }

        function isValid() {
            return numOfHistoryItems < maxHistoryItems;
        }

        function appendHistoryItems(term) {
            var items = getHistoryItems(),
                len = items.length;

            if (term) {
                removeHistoryFromSuggest();
                for (var i = 0, j = 0; i < len && j < maxHistoryItemsForSuggest; i++) {
                    var item = items.shift();
                    if (Utils.String.startsWith(item, term)) {
                        addHistoryItem(createSuggestEl(term, item, j, true), true);
                        j++;
                    }
                }
            } else {
                for (var i = 0; i < len && i < maxHistoryItems; i++) {
                    addHistoryItem(createSuggestEl('', items.pop(), i, true, false));
                }
            }
        }

        function getHistoryItems() {
            return getHistoryItemsFromCookie();
        }

        function onClearAllClick() {
            historyItems = [];
            clearHistoryFromCookie();
            removeHistoryFromSuggest();
        }

        function clearHistoryFromCookie() {
            Utils.Cookie.remove(historyKey);
        }

        function removeHistoryFromSuggest() {
            var length = suggestList.childNodes.length - 1;
            for (var i = length; i >= 0; i--) {
                if (suggestList.childNodes[i].getAttribute('data-type') === 'h') {
                    suggestList.removeChild(suggestList.childNodes[i]);
                }
            }
        }

        function addHistoryItem(item, fromStart) {
            if (fromStart) {
                suggestList.insertBefore(item, suggestList.childNodes[0]);
            } else {
                suggestList.appendChild(item);
            }
        }

        return {
            closeHistory: closeHistory,
            openHistory: openHistory,
            clearHistoryItem: clearHistoryItem,
            removeHistoryFromSuggest: removeHistoryFromSuggest,
            saveItemToHistory: saveItemToHistory,
            onToggleSavedHistory: onToggleSavedHistory,
            onClearAllClick: onClearAllClick,
            getHistoryItemsFromCookie: getHistoryItemsFromCookie,
            appendHistoryItems: appendHistoryItems,
            setSavedHistoryState: setSavedHistoryState,
            getSavedHistoryState: getSavedHistoryState
        }
    }

    function KeyManager() {
        var _nodelist = {},
            _LEFT = 37,
            _UP = 38,
            _RIGHT = 39,
            _DOWN = 40,
            _ENTER = 13;

        function isArrows(code) {
            code = parseInt(code);
            return (code == _LEFT || code == _UP || code == _RIGHT || code == _DOWN);
        }

        function updateHistoryHover() {
            _nodelists[getIndex()].className += ' hover ';
        }

        function onKeydown(event) {
            _nodelist = suggestList.childNodes;
            removeHover(suggestList.childNodes[getSelectedNode()]);
            switch (event.keyCode) {
                case _UP:
                    selectedNode = selectedNode <= 0 ? suggestList.childNodes.length : selectedNode - 1;
                    break;
                case _DOWN:
                    selectedNode++;
                    break;
                default:
                    return;
            }
            addHover(suggestList.childNodes[getSelectedNode()]);
            setInputInSearchBox(suggestList.childNodes[getSelectedNode()]);
        }

        return {
            onKeydown: onKeydown,
            isArrows: isArrows
        }
    }

    function updateSuggestEl(el, term, suggest) {
        var span = el.childNodes[0],
            val = Utils.String.startsWith(suggest, term) ? (term + '<b>' + suggest.replace(term, '') + '</b>')
                : ('<b>' + suggest + '</b>'),
            newSuggest = document.createTextNode(val);

        span.innerHTML = newSuggest.textContent;
        el.setAttribute('x-data-term', suggest);
    }

    function createSuggestEl(term, suggest, index, isHistory) {
        var item = document.createElement("LI");
        item.className = "suggest-item-wrapper";
        item.setAttribute('data-type', isHistory ? 'h' : 's');
        item.setAttribute('x-data-term', suggest);
        item.setAttribute('i', index);
        Utils.Event.attach(item, 'mouseenter', AutoSuggest.onMouseEnter);
        Utils.Event.attach(item, 'mouseleave', AutoSuggest.onMouseLeave);

        var value = document.createElement('SPAN');
        value.setAttribute('class', 'suggest-term');
        value.innerHTML = term + "<b>" + suggest.replace(term, '') + "</b>";
        if (isHistory) {
            value.style.color = '#8259ab';
            editHistoryItem(item);
        }else{
	        Utils.Event.attach(item, 'click', AutoSuggest.onSelectedSuggestItem);
        }
        item.appendChild(value);
        return item;
    }

    function editHistoryItem(el) {
        Utils.Event.attach(el, "mouseleave", hideHistoryXBtn);
        Utils.Event.attach(el, "mouseenter", showHistoryXBtn);
        Utils.Event.attach(el, "click", function (event) {
                view.setInputText(event.target.innerText);
	            document.getElementById('useHistory').value='1';
                document.forms['search-form'].submit();
        });
        el.appendChild(createXbtn());
    }

    function initHistoryToggle() {
        var historyEl = document.getElementById('ccl');
        var historyState = historyManager.getSavedHistoryState();
        historyState ? historyEl.className.replace(/(?:^|\s)turnOnHistory(?!\S)/g, '') : historyEl.className += " turnOnHistory";
    }

    function createXbtn() {
        var xBtn = document.createElement("SPAN");
        xBtn.style.zIndex = 999999;
        xBtn.className = "history-item-x-btn";
        xBtn.innerHTML = "x";
        Utils.Event.attach(xBtn, "click", historyManager.clearHistoryItem);
        return xBtn;
    }

    function getSelectedNode() {
        return (selectedNode % (suggestList.childNodes.length + 1));
    }

    function removeHover(node) {
        if (node) {
            node.className = node.className.replace(/(?:^|\s)hover(?!\S)/g, '').trim();
        }
    }

    function addHover(node) {
        if (node && (node.className.indexOf('hover') === -1)) {
            node.className = node.className.concat(' hover ').trim();
        }
    }

    function setInputInSearchBox(node) {
        searchBox.value = node ? node.getAttribute('x-data-term') : '';
    }

    function onMouseLeave(event) {
        var selected = suggestList.childNodes[getSelectedNode()];
        if (selected && selected.tagName === 'LI') {
            removeHover(selected);
            selectedNode = -1;
        }
    }

    function onMouseEnter(event) {
        var newSelected = event.target,
            oldSelection = suggestList.childNodes[selectedNode];
        if (newSelected.tagName === 'LI') {
            selectedNode = newSelected.getAttribute('i');
            addHover(newSelected);
            removeHover(oldSelection);
        }
    }

    function showHistoryXBtn() {
        if (this && this.children && this.children.length > 0)
            this.children[0].style.display = "inline-block";
    }

    function hideHistoryXBtn() {
        if (this && this.children && this.children.length > 0)
            this.children[0].style.display = "none";
    }

    function startListening() {
        var placeholder = document.getElementById('input_icon');
        if (searchBox) {
            searchBox.value = '';
            Utils.Event.attach(searchBox, 'keyup', function (keyup) {
                if (getInputText() && keyup.key != 'Enter' && !keyManager.isArrows(keyup.keyCode)) {
                    var url = updateUrlQuery(getInputText(), suggestUrl);
                    makeCall(url);
                } else if (!keyManager.isArrows(keyup.keyCode)) {
                    closeAutoSuggest(true);
                }
            });

            Utils.Event.attach(placeholder, 'click', function (event) {
                openHistorySuggest(placeholder.value);
            });

            Utils.Event.attach(searchBox, 'click', function (event) {
                openHistorySuggest(searchBox.value);
            });
        }
    }

    function updateUrlQuery(query, url) {
        return url.replace('[QUERY]', query);
    }

    function updateUrlParams(url) {
        return url.replace('[CALLBACK]', 'AutoSuggest.suggestCallback').replace('[NUMBER_OF_SUGGESTIONS]', maxSuggestItems + '');
    }

    function makeCall(sUrl) {
        var s = document.createElement('script');
        s.type = "text/javascript";
        s.id = "dsJSON";
        s.src = sUrl;
        var oldCall = document.getElementById('dsJSON');
        var head = document.getElementsByTagName('head').item(0);
        if (oldCall) {
            oldCall.parentNode.removeChild(oldCall);
        }
        head.appendChild(s);
    }

    function closeHistory() {
        historyManager.closeHistory();
    }

    function getInputText() {
        return searchBox ? searchBox.value : '';
    }

    function setInputText(val) {
        if (searchBox)
            searchBox.value = val;
    }

    function submitForm(enable) {
        if (enable)
            controller.onSubmit();
    }

    function openHistorySuggest(value) {

        if (isSuggestOpen() || value || !historyManager.getSavedHistoryState()) {
            return;
        }
        suggestList.innerHTML = '';
        historyManager.appendHistoryItems();
        openSuggestWrapper();
    }

    function isSuggestOpen() {
        return suggestWrapper.style.display != 'none';
    }

    function openSuggestWrapper() {
        if (!isSuggestEmpty()) {
            suggestWrapper.style.display = "block";
        }
    }

    function closeAutoSuggest() {
        suggestWrapper.style.display = "none";
        removeHover(suggestList.childNodes[selectedNode]);
        selectedNode = -1;
    }

    function isSuggestEmpty() {
        return suggestList.childNodes.length === 0;
    }

    function indexSuggestList() {
        for (var i = 0; i < suggestList.childNodes.length; i++) {
            suggestList.childNodes[i].setAttribute('i', i);
        }
    }

    function onClearAllClick() {
        if (historyManager) {
            historyManager.onClearAllClick();
        }
    }

    function removeHistoryFromSuggest() {
        if (historyManager)
            historyManager.removeHistoryFromSuggest();
    }

    function buildSuggestions(data, callback) {

        var res = getDataFromProvider(data),
            total = Math.min(res.items.length, maxSuggestItems);

        for (var i = 0, j = 0; j < total; i++) {
            if (!isSuggestExist(res.items[i])) {
                if (!suggestList.childNodes[j]) {
                    suggestList.appendChild(createSuggestEl(res.term, res.items[i], suggestList.childNodes.length, false));
                } else if (!isHistoryItem(j)) {
                    updateSuggestEl(suggestList.childNodes[j], res.term, res.items[i]);
                }
                j++;
            }
        }

        if (res.items.length < maxSuggestItems) {
            while (suggestList.childNodes[res.items.length]) {
                suggestList.removeChild(suggestList.childNodes[res.items.length]);
            }
        }

        callback();
    }

    function getDataFromProvider(data) {

        var res = {
            items: [],
            term: ''
        }

        switch (suggestProviderId) {
            case 1:
                res.items = data.items;
                res.term = data.query;
                break;
            case 2:
            default:
                res.items = data[1];
                res.term = data[0];
                break;
        }

        return res;
    }

    function isSuggestExist(suggest) {
        var items = historyManager.getHistoryItemsFromCookie();
        for (var i = 0; i < items.length; i++) {
            if (items[i] === suggest) {
                return true;
            }
        }
        return false;
    }

    function isHistoryItem(index) {
        return suggestList.childNodes[index] ?
            (suggestList.childNodes[index].getAttribute('data-type') === 'h') : false;
    }

    function onSuggestCallback(data, callback) {
        if (historyManager.getSavedHistoryState()) {
            historyManager.appendHistoryItems(getInputText());
        }
        buildSuggestions(data, function (err) {
            indexSuggestList();
            callback(err);
        });
    }

    function getNodeValue(node) {
        return node.getAttribute("x-data-term") || node.parentNode.getAttribute("x-data-term") || node.parentNode.parentNode.getAttribute("x-data-term");
    }

    self.onMouseEnter = function (event) {
        onMouseEnter(event);
    }

    self.onMouseLeave = function (event) {
        onMouseLeave(event);
    }

    self.onKeyPress = function (event) {
        keyManager.onKeydown.apply(this, [event]);
    }

    self.saveItemToHistory = function (term) {
        if (historyManager)
            historyManager.saveItemToHistory(term);
    };

    self.clearHistoryItem = function (index) {
        historyManager.removeItem(index);
    };

    self.showHistoryXBtn = function (elem) {
        historyManager.showHistoryXBtn(elem);
    };

    self.hideHistoryXBtn = function (elem) {
        historyManager.hideHistoryXBtn(elem);
    };

    self.suggestCallback = function (data) {
        closeHistory();
        onSuggestCallback(data, function (err) {
            if (err)
                return;
            openSuggestWrapper();
        });
    };

    self.closeAutoSuggest = function () {
        closeAutoSuggest();
    }

    self.onSelectedSuggestItem = function (ev) {
        setInputText(getNodeValue(ev.target));
        AutoSuggest.saveItemToHistory(getInputText());
        closeAutoSuggest();
        submitForm(enableSubmitForm);
        Utils.Event.preventDefault(ev);
    };

    self.clearAllHistory = function () {
        onClearAllClick();
        indexSuggestList();
        if (isSuggestEmpty()) {
            closeAutoSuggest();
        }
    };

    self.turnOffOn = function () {
        if (historyManager)
            historyManager.onToggleSavedHistory();

        if (isSuggestEmpty()) {
            closeAutoSuggest();
        }
    };

    return self;
})();

var SearchTypeManager = (function () {

    var _self = {},
        _types = {'searchweb':'SearchWeb', 'searchimages':'SearchImages', 'searchvideos':'SearchVideos', 'searchnews':'SearchNews', 'searchshopping':'SearchShopping'};

    function setSearchType(type) {
        var allEls = document.getElementById("categories-wrapper");
        // Remove all elements that have 'selected'
        var selectedEls = Utils.Element.getElsByClassName(allEls, 'selected')[0];
        var el = document.getElementById(type.toLowerCase());

        if (!el) {
            return;
        }

        if (selectedEls) {
            selectedEls.className = selectedEls.className.replace(/(?:^|\s)selected(?!\S)/g, '');
        }

        // Add style to selected node
        el.className += " selected";
        // Add selected node to form input
        document.getElementById("input_icon").innerHTML = el.getAttribute("data-placeholder");
        // Set in cookie
        Utils.Cookie.set('st', type);
        Utils.Url.UpdateUrl('SearchType', type);
    }

    function getSearchType() {
        return getUrlSearchType() || getCookieSearchType() ||  _types.searchweb;
    }

    function getUrlSearchType() {
        var type = Utils.Url.getParam('SearchType');
	    return isTypeValid(type)?type: '';
    }

    function getCookieSearchType() {
        var type = Utils.Cookie.get('st');
	    return isTypeValid(type)?type: '';
    }

    function isTypeValid(type) {
        return (type && _types[type.toLowerCase()]);
    }

    _self.setSearchType = function (type) {
        setSearchType(type);
    }

    _self.getSearchType = function () {
        return getSearchType();
    }

    return _self;

})();

var controller = {

    startAutoSuggest: function () {
        if (window.searchSettings && window.searchSettings.auto_suggest_settings && (window.searchSettings.auto_suggest_settings.suggest))
            AutoSuggest.init(window.searchSettings.auto_suggest_settings);
    },

    isDescendant: function (parent, child) {
        if (!parent || !child) {
            return false;
        } else if (parent === child) {
            return true;
        }
        return !child.parentNode ? parent == child.parentNode : (parent == child.parentNode) ? true : this.isDescendant(parent, child.parentNode);
    },

    buildUrl: function (q) {
        var qs = "";
        return qs += "/?q=" + q;
    },

    dropdownOnClick: function (event, el) {
        event.preventDefault();
        event.stopPropagation && event.stopPropagation();
        event.cancelBubble = true;

        if (el.className.indexOf('open') > -1) {
            el.className = el.className.replace(/(?:^|\s)open(?!\S)/g, '');
            document.getElementById('top_menu_sep').style.display = "inline";
            document.getElementById('liMenu_wrapper').style.display = "none";


        } else {
            el.className += " open";
            document.getElementById('top_menu_sep').style.display = "none";
            document.getElementById('liMenu_wrapper').style.display = "inline";

        }
    },

    inputClick: function (event, initialLoad) {
        var placeholder = document.getElementById("input_icon");
        if (event && !controller.isDescendant(document.getElementById("inputwrp"), event.target) && !initialLoad) {
            view.removeSearchBoxFocus();
        } else {
            var inputwrp = document.getElementById("inputwrp");
            placeholder.style.display = "none";
            if (inputwrp && inputwrp.className.indexOf('open') <= -1 && inputwrp.className.indexOf('input-focus') <= -1) {
                inputwrp.className += " input-focus";
            }
            view.focusInput();
        }
    },

    updateFormValues: function (id, value) {
        var el = document.getElementById(id);
        if (el) {
            el.value = value;
        }
    },

    onActionClick: function (el, type, event) {
        if (type === 'notification') {
            event.preventDefault();
            event.stopPropagation();
            var popupEl = Utils.Element.getElsByClassName(el.parentElement, 'popup-arrow-down')[0];
            var newDisplayState = popupEl.style.display === "none" ? "inline-block" : "none";
            var popups = Utils.Element.getElsByClassName(document, 'popup-arrow-down');
            for (var i = 0; i < popups.length; i++) {
                popups[i].style.display = 'none';
            }
            popupEl.style.display = newDisplayState;
        }
        else if (type === 'language') {
            var url = window.location.href;
            var newlang = '?lang=' + el.getAttribute('value');
            var index = url.indexOf('?lang');
            window.location.href = index > -1 ? Utils.String.replaceAt(url, index, newlang) : newlang;
        }
    },

    onKeyPress: function (event) {
        AutoSuggest.onKeyPress.apply(this, [event]);
    },

    onSubmit: function () {
        var q = view.getInputText();
        if (q) {
            AutoSuggest.saveItemToHistory(q);
            document.forms['search-form'].submit();
        }
    },

    onHeaderItemClick: function (el, event) {
        // controller.insertParam('SearchType', el.getAttribute('data-type'));
        if (!el.getAttribute('data-href')) {
            if (event) {
                event.preventDefault();
                event.stopPropagation && event.stopPropagation();
                event.cancelBubble = true;
            }
            SearchTypeManager.setSearchType(el.getAttribute('data-type'));
            view.focusInput();
            controller.inputClick(event, true);
            Utils.Cookie.set('st', el.getAttribute('data-type'));
            controller.updateFormValues('searchType', el.getAttribute('data-type'));

            if(view.getInputText()){
	            document.forms['search-form'].submit();
            }
        }
    },

    setViewDirection: function () {
        document.body.className += (" " + (window.direction === 'rtl' ? 'rtl' : 'ltr')).trim();
    },

    setCookiePopup: function () {
        var pn = document.getElementById('n-popup-cookies');
        if (Utils.Cookie.get('pn') != 'true') {
            if (pn) {
                pn.style.display = 'block';
            }
        }
        if ( (Utils.Cookie.get('pn') == 'true' || !pn) && Utils.Cookie.get('ppn') != 'true' ) {
            var ppn = document.getElementById('n-popup-privacy');
            if (ppn) {
                ppn.style.display = 'block';
            }
        }
    },

    setCopyrightNode: function () {
        var copyrightNode = document.getElementById('copyright');
        if (copyrightNode)
            copyrightNode.innerHTML = '&copy; All Rights reserved'
    },

    initSearchType: function () {
        var type = SearchTypeManager.getSearchType();

        SearchTypeManager.setSearchType(type);
        controller.updateFormValues('searchType', type);
    },

    onLoad: function (event) {
            notificationWindow = document.getElementById('notificatinHref'),
            headerItems = Utils.Element.getElsByClassName(document, 'header-item-link'),
            popupsItems = Utils.Element.getElsByClassName(document, 'popup-close-button');

        controller.initSearchType();
        controller.startAutoSuggest();
        controller.inputClick(event, true);
        controller.setViewDirection();
        controller.setCookiePopup();
        controller.setCopyrightNode();
        view.focusInput();


        if (!window.XMLHttpRequest) {
            document.getElementById('inputwrp').attachEvent('onmouseover', function () {
                document.getElementById('inputwrp').className += ' hover';

            });
            document.getElementById('inputwrp').attachEvent('onmouseout', function () {
                document.getElementById('inputwrp').className = document.getElementById('inputwrp').className.replace(/(?:^|\s)hover(?!\S)/g, '');

            });
            document.getElementById('button').attachEvent('onmouseover', function () {
                document.getElementById('button').className += ' hover';

            });
            document.getElementById('button').attachEvent('onmouseout', function () {
                document.getElementById('button').className = document.getElementById('button').className.replace(/(?:^|\s)hover(?!\S)/g, '');

            });

            function addHover(idx, arr) {
                return function () {
                    headerItems[idx].className += ' hover';
                }
            }

            function removeHover(idx, arr) {
                return function () {
                    headerItems[idx].className = headerItems[idx].className.replace(/(?:^|\s)hover(?!\S)/g, '');

                }
            }

            for (var i = 0; i < headerItems.length; i++) {
                headerItems[i].attachEvent('onmouseover', addHover(i, headerItems));
                headerItems[i].attachEvent('onmouseout', removeHover(i, headerItems));
            }

            for (var j = 0; j < popupsItems.length; j++) {
                popupsItems[j].attachEvent('onmouseover', addHover(j, popupsItems));
                popupsItems[j].attachEvent('onmouseout', removeHover(j, popupsItems));
            }
        }
        var urlParams = (window.location.search||'').replace('?','');
        for (var i = 0; i < headerItems.length; i++) {
            if (headerItems[i].tagName === "A" && !headerItems[i].href) {
                var type = headerItems[i].getAttribute("data-type");

                if (headerItems[i].getAttribute('data-href')) {
                    headerItems[i].href = headerItems[i].getAttribute('data-href') + "?SearchType=" + type + '&' + urlParams;
                } else {
                    headerItems[i].href = "#" + type;
                }
                if (headerItems[i].className.indexOf('selected') > -1) {
                    document.getElementById("input_icon").innerHTML = headerItems[i].getAttribute("data-placeholder");
                }
            }
        }
        if (window.location.hash) { //if state on url
            var item = document.getElementById(window.location.hash);
            if (item) {
                controller.onHeaderItemClick(document.getElementById(window.location.hash));
            }
        }

        if (document.addEventListener) {
            document.addEventListener('click', function (event) {
                if (!controller.isDescendant(document.getElementById("search-form"), event.target)) {
                    view.removeSearchBoxFocus();
                    view.closeAllDropdown();
                    AutoSuggest.closeAutoSuggest();
                }
                if (!controller.isDescendant(document.getElementById("notificationText"), event.target)) {
                    view.closeAllPopUps();
                }
            });
        }
        else {
            document.attachEvent('click', function (event) {
                if (!controller.isDescendant(document.getElementById("search-form"), event.target)) {
                    view.removeSearchBoxFocus();
                    view.closeAllDropdown();
                    AutoSuggest.closeAutoSuggest();
                }
                if (!controller.isDescendant(document.getElementById("notificationText"), event.target)) {
                    view.closeAllPopUps();
                }
            });
        }
    },
    onPageShow: function (event) {
        controller.startAutoSuggest();
    }
};

var view = {
    focusInput: function () {
        document.getElementById("q_top").focus();
    },
    closeAllDropdown: function () {
        var dropdowns = Utils.Element.getElsByClassName(document, 'dropdown');
        for (var i = 0; i < dropdowns.length; i++) {
            dropdowns[i].className = dropdowns[i].className.replace(/(?:^|\s)open(?!\S)/g, '');
        }
        document.getElementById('top_menu_sep').style.display = "inline";
        document.getElementById('liMenu_wrapper').style.display = "none";
    },
    closeAllPopUps: function () {
        var popups = Utils.Element.getElsByClassName(document, 'popup-arrow-down');
        for (var i = 0; i < popups.length; i++) {
            if (popups[i].getAttribute('id') !== 'n-popup-cookies' && popups[i].getAttribute('id') !== 'n-popup-privacy') {
                popups[i].style.display = 'none';
            }
        }
    },
    removeSearchBoxFocus: function () {
        var placeholder = document.getElementById("input_icon");
        if (document.getElementById("inputwrp")) {
            document.getElementById('inputwrp').className = document.getElementById('inputwrp').className.replace(/(?:^|\s)input-focus(?!\S)/g, '');

        }
        if (!document.getElementById("q_top").value) {
            placeholder.style.display = "block"
        }
    },
    getBubbleElement: function (el) {
        if(el.id === 'n-popup-cookies' || el.id === 'n-popup-privacy'){
            return el;
        }
        return el.parentElement;
    },
    closePopup: function (el) {
        var bubbleElement = this.getBubbleElement(el);
        bubbleElement.style.display = 'none';
        if (bubbleElement.id === 'n-popup-cookies') {
            Utils.Cookie.set('pn', true);
            controller.setCookiePopup();
        }
        if (bubbleElement.id === 'n-popup-privacy') {
            Utils.Cookie.set('ppn', true);
        }
    },
    getInputText: function () {
        return document.getElementById("q_top").value;
    },
    setInputText: function (val) {
        document.getElementById("q_top").value = val;
    }
};

window.onload = controller.onLoad;

    </script>
</head>
<body>
<div class="header ltr">
    <span class="side1">
        <ul style="display: none" class="categories_wrapper" id="categories-wrapper">
                <li class="header-item ">
                    <a
                            class="header-item-btn header-item-link"
                            data-placeholder="Search the Web"
                            id="searchweb"
                            data-href=""
                            data-type="SearchWeb"
                            onclick="controller.onHeaderItemClick(this, event)"
                    >Web</a>
            </li>
                <li class="header-item ">
                    <a
                            class="header-item-btn header-item-link"
                            data-placeholder="Search for images"
                            id="searchimages"
                            data-href=""
                            data-type="SearchImages"
                            onclick="controller.onHeaderItemClick(this, event)"
                    >Images</a>
            </li>
                <li class="header-item ">
                    <a
                            class="header-item-btn header-item-link"
                            data-placeholder="Search for videos"
                            id="searchvideos"
                            data-href=""
                            data-type="SearchVideos"
                            onclick="controller.onHeaderItemClick(this, event)"
                    >Videos</a>
            </li>
                <li class="header-item ">
                    <a
                            class="header-item-btn header-item-link"
                            data-placeholder="Search for news"
                            id="searchnews"
                            data-href=""
                            data-type="SearchNews"
                            onclick="controller.onHeaderItemClick(this, event)"
                    >News</a>
            </li>
                <li class="header-item dropdown-wrapper">
                        <a href="javascript:void(0);" class="header-item-btn header-item-link dropdown"
                           onclick="controller.dropdownOnClick(event, this)">
                            <span class="a">
                            <span id="top_menu_sep">|&nbsp;</span>More</span>
                                <span id="menu_icon">&#9660;</span>
                    </a>
                <div id="liMenu_wrapper" style="display: none">
                    <div id="liMenu_inner_wrapper">
                        <ul id="liMore">
                                <li class="dropdown-item-wrapper">
                                      <a data-placeholder="Search the Web" id="searchshopping"
                                         onclick="controller.onHeaderItemClick(this)"
                                         class="dropdown-item header-item-link" data-type="SearchShopping"
                                         data-href="">Shopping</a>
                                </li>
                                <li class="dropdown-item-wrapper">
                                      <a data-placeholder="Search the Web" id="searchweather"
                                         onclick="controller.onHeaderItemClick(this)"
                                         class="dropdown-item header-item-link" data-type="SearchWeather"
                                         data-href="">Weather</a>
                                </li>
                        </ul>
                        <span id="menu_shadow"></span>
                    </div>
                </div>
            </li>
        </ul>
    </span>
    <span class="side2">
        <span id="bing_element_wrapper">
            
            <a href="javascript:linkAsSearch('search_form', 'q_top', 'bing')">
                <img src="" height=""
                     width=""
                     alt=""></a>
        </span>
    </span>
</div>
<div class="search-bar ltr">
    <div class="logo-wrapper" id="logo_wrapper">
        <img src="//storage2.stgbssint.com/Search/SearchApplication/Resources/SpyGlass130x40.png" \>
    </div>
    <div class="search-box" id="s" onload="controller.onSearchBarLoad()">
        <form onsubmit="controller.onSubmit(event)" id="search-form" action="/results.aspx">
            <div id="inputwrp" class="input-wrapper">
                <div>
                    <span id="input_icon" class="placeholder" style="display: none;"
                          onclick="controller.inputClick(event,false)"></span>
                    <input onkeydown="controller.onKeyPress(event)" autocomplete="off" id="q_top" dir="auto" name="q"
                           onclick="controller.inputClick(event,false)">
                </div>
            </div>
            <div class="search-button" id="bp">
                <div id="suggest-wrapper" class="suggest-wrapper" style="">
                    <div id="suggest-table-Wrapper" class="suggest-table-Wrapper" style="">
                        <ul id="suggestListWrapper"></ul>
                    </div>
                    <div id="main_button_wrapper">
                        <span id="ccl" class="clear-history clear-history-ltr">
                            <span onclick="AutoSuggest.turnOffOn();"
                                  id="disableHistoryBtn">Turn off history /</span>
                            <span onclick="AutoSuggest.turnOffOn();"
                                  id="enableHistoryBtn">Turn on history /</span>
                            <span onclick="AutoSuggest.clearAllHistory();"
                                  id="clearAllHistoryBtn">Clear all</span>
                        </span>
                        <div class="button" id="button_wrapper">
                            <a href="javascript:controller.onSubmit();" data-href="/results.aspx"
                               style="background-image:url(//se-p-static-content.seccint.com/search/images/homepage/button_bg.png);;"
                               id="suggest_button" class="default-search-btn">Search</a>
                            <span class="button-closer"
                                  style="background-image:url(//se-p-static-content.seccint.com/search/images/homepage/button_bg.png);;"
                                  id="button_closer"></span>
                        </div>
                    </div>
                </div>
                <div id="main_button_wrapper">
                    <div class="button" id="button_wrapper">
                        <a href="javascript:controller.onSubmit();" data-href="/results.aspx"
                           style="background-image:url(//se-p-static-content.seccint.com/search/images/homepage/button_bg.png);;"
                           id="button" class="default-search-btn">Search</a>
                        <span class="button-closer"
                              style="background-image:url(//se-p-static-content.seccint.com/search/images/homepage/button_bg.png);"
                              id="button_closer"></span>
                    </div>
                </div>
            </div>
            <input id="useHistory" type="hidden" name="useHistory" value="0">
            <input id="stype" type="hidden" name="stype" value="Results">
            <input id="searchType" type="hidden" name="SearchType" value="">
            <script>
                (function () {
                    var i, pair, pairs = location.search.substr(1).split("&"), l = pairs.length;
                    for (i = 0; i < l; i++) {
                        pair = pairs[i].split('=');
                        document.write('<input type="hidden" id="' + pair[0] + '" name="' + pair[0] + '" value="' + (pair[1] || '') + '">');
                    }
                    ;
                })();
            </script>
        </form>
    </div>
</div>
<div class="footer">
    <ul class="footer-items-wrapper side1 ltr">
                <li class="footer-item">
                    <span class="content">
                        <a id=about
                                                                                          href="http://info.trovigo.com/aboutus/"
                                                                                          target="_blank" rel="nofollow"
                        >
                            About
                        </a>

                            <span class="separator">|</span>

                    </span>
                </li>
                <li class="footer-item">
                    <span class="content">
                        <a id=cookies
                                                                                          href="http://info.trovigo.com/cookies/"
                                                                                          target="_blank" rel="nofollow"
                        >
                            Cookies
                        </a>

                            <span class="separator">|</span>

                            <div style="position: relative;">
                                    <div
                                            name="notificationwindow"
                                            id="n-popup-cookies"
                                            class="popup-arrow-down"
                                            style="display: none"
                                            onclick="view.closePopup(this)"
                                    >
                                        <div id="notificationClose" onclick="view.closePopup(this)"></div>
                                        <div id="notificationText">
                                            <div id=notificationTitle>
                                                <b></b>
                                            </div>
                                            <span id='notificationTextHeader'>Cookies</span></br>We use cookies to improve your experience on the website. 
                By continuing to use our site, you agree to our use of cookies. 
                <a id='notificatinHref' href='http://info.trovigo.com/cookies/' target='_blank'>Learn More</a>
                                        </div>
                                    </div>
                                </div>
                    </span>
                </li>
                <li class="footer-item">
                    <span class="content">
                        <a id=privacy
                                                                                          href="http://info.trovigo.com/privacy-policy/"
                                                                                          target="_blank" rel="nofollow"
                        >
                            Privacy Policy
                        </a>

                            <span class="separator">|</span>

                            <div style="position: relative;">
                                    <div
                                            name="notificationwindow"
                                            id="n-popup-privacy"
                                            class="popup-arrow-down"
                                            style="display: none"
                                            onclick="view.closePopup(this)"
                                    >
                                        <div id="notificationClose" onclick="view.closePopup(this)"></div>
                                        <div id="notificationText">
                                            <div id=notificationTitle>
                                                <b></b>
                                            </div>
                                            <span id='notificationTextHeader'>Updates to Privacy Policy</span></br>
                Your privacy is important to us, and we take our responsibility regarding the security of your personal information. 
                We are committed to protecting your personal information and to being transparent about the information we collect about you. 
                Please find our updated privacy policy here:<a id='notificatinHref' href="http://info.trovigo.com/privacy-policy/" target='_blank'>Privacy Policy</a>.
                                        </div>
                                    </div>
                                </div>
                    </span>
                </li>
                <li class="footer-item">
                    <span class="content">
                        <a id=terms
                                                                                          href="http://info.trovigo.com/terms/"
                                                                                          target="_blank" rel="nofollow"
                        >
                            Terms of Use
                        </a>

                            <span class="separator">|</span>

                    </span>
                </li>
                <li class="footer-item">
                    <span class="content">
                        <a id=copyright
                                                                                          href="http://info.trovigo.com"
                                                                                          target="_blank" rel="nofollow"
                        >
                            
                        </a>


                    </span>
                </li>
    </ul>
    <ul class="footer-items-wrapper side2 ltr">
            <li class="footer-item">
                    <a href="mailto:contactus+trovigo.com@nonline-search.com">Contact us</a>
            </li>
            <li class="footer-item">
                        <span class="separator">|</span>
                        <span
                                id="main_lngPrefs_lng">English
                        </span>
            </li>
    </ul>
</div>
<input type="hidden" id="EffectiveId" value=""/>
<input type="hidden" id="SN" value=""/>
</body>
<script>
        var searchSettings = {"auto_suggest_settings":{"suggest_provider_url":"https://api.bing.com/osjson.aspx?query=[QUERY]&Market=en-us&JsonType=callback&JsonCallback=[CALLBACK]","suggest_provider":2,"search_box_id":"q_top","search_btn_id":"suggest-button","suggest_wrapper_id":"suggest-wrapper","enable_suggest":true,"enable_history":true,"with_history":true,"clear_all_history_text":"Clear all","disable_history_text":"Turn off history","history":{"history_table_wrapper":"history-table-Wrapper","history_switch_key":"_hse","max_history_items":10,"max_history_items_for_suggest":5},"suggest":{"suggest_table_wrapper":"suggestListWrapper","max_suggest_items":10}}};
    var direction = "ltr";
</script>